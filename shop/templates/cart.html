{% extends "base.html" %}

{% block title %}
Cart
{% endblock %}

{% block styles %}
{{ super() }}
<link rel="stylesheet" href="{{url_for('static', filename='css/const.css')}}">
<link rel="stylesheet" href="{{url_for('static', filename='css/cart.css')}}">
{% endblock %}

{% block content %}
    <div class="container">
        {% if cart|length > 0 %}
            <div class="head">
                <div>
                    <h3>Name</h3>
                </div>
                <div>
                    <h3>Category</h3>
                </div>
                <div>
                    <h3>Price</h3>
                </div>
                <div>
                    <h3>Amount</h3>
                </div>
                <div>
                    <h3>Money: ${{ user_wallet }}</h3>
                </div>
            </div>
            {% for item in cart %}
                <div class="product">
                    <div>
                        {{ item.name }}
                    </div>
                    <div>
                        {{ item.category }}
                    </div>
                    <div>
                        <strong>${{ item.price }}</strong>
                    </div>
                    <div>
                        <input id = "amount_input{{ item.id }}" type="number" min = 1 max={{ item.count }} 
                        value="{{ item.amount }}">
                    </div>
                    <div>
                        <button type="button" onClick="" id = "send_button{{ item.id }}" class="btn btn-danger">Delete</button>
                    </div>
                </div>
            {% endfor %}
            <form action = "/cart_clear" type = "POST">
                <button class="btn btn-danger" type = "submit">Delete all</button>
            </form>
            <h3>Total cost: <strong>${{ cost }}</strong></h3>
        {% else %}
            <h3>You haven't added any products! Add product in <a href="{{ url_for('shop') }}">Shop</a>!</h3>
        {% endif %}
    </div>
{% endblock %}